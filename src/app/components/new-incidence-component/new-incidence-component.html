<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
      <div class="card shadow-sm border-0">
        <!-- Header -->
        <div
          class="card-header border-0 py-3"
          style="background: linear-gradient(135deg, #667eea, #764ba2)"
        >
          <h5 class="text-white fw-bold mb-0 text-center">
            <i class="bi bi-plus-circle me-2"></i>Nueva Incidencia
          </h5>
        </div>

        <!-- Body -->
        <div class="card-body p-4">
          <form [formGroup]="newIncidenceForm" (ngSubmit)="onSubmit()">
            <!-- T칤tulo -->
            <div class="mb-3">
              <label class="form-label fw-semibold text-secondary small text-uppercase">
                T칤tulo
              </label>
              <input
                formControlName="title"
                type="text"
                placeholder="Introduce el t칤tulo"
                class="form-control"
                [class.is-invalid]="isNotValidField('title')"
                [class.is-valid]="
                  !isNotValidField('title') && newIncidenceForm.get('title')?.touched
                "
              />
              @if (isNotValidField('title')) {
                <div class="invalid-feedback">
                  {{ getFieldErrors('title') }}
                </div>
              }
            </div>

            <!-- Descripci칩n -->
            <div class="mb-3">
              <label class="form-label fw-semibold text-secondary small text-uppercase">
                Descripci칩n
              </label>
              <textarea
                formControlName="description"
                rows="3"
                placeholder="Describe la incidencia..."
                class="form-control"
                [class.is-invalid]="isNotValidField('description')"
                [class.is-valid]="
                  !isNotValidField('description') && newIncidenceForm.get('description')?.touched
                "
              ></textarea>
              @if (isNotValidField('description')) {
                <div class="invalid-feedback">
                  {{ getFieldErrors('description') }}
                </div>
              }
            </div>

            <!-- Prioridad -->
            <div class="mb-4">
              <label class="form-label fw-semibold text-secondary small text-uppercase">
                Prioridad
              </label>
              <select
                formControlName="priority"
                class="form-select"
                [class.is-invalid]="isNotValidField('priority')"
                [class.is-valid]="
                  !isNotValidField('priority') && newIncidenceForm.get('priority')?.touched
                "
              >
                <option value="" disabled selected>Selecciona una prioridad</option>
                <option value="Baja">游릭 Baja</option>
                <option value="Media">游리 Media</option>
                <option value="Alta">游댮 Alta</option>
              </select>
              @if (isNotValidField('priority')) {
                <div class="invalid-feedback">
                  {{ getFieldErrors('priority') }}
                </div>
              }
            </div>

            <!-- Bot칩n -->
            <div class="d-grid">
              <button
                type="submit"
                [disabled]="newIncidenceForm.invalid"
                class="btn text-white fw-bold py-2"
                style="background: linear-gradient(135deg, #667eea, #764ba2); border: none"
              >
                <i class="bi bi-save me-2"></i>Guardar Incidencia
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
